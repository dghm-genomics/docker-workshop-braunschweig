# Dockerfile for workshop in Braunschweig

Please find here the Dockerfile for an image to be used at a [workshop on genome assemby and annotation in Braunschweig](https://www.dsmz.de/home/news-and-events/events/genomics-workshop.html "website of the workshop hosted at DSMZ") in May 2017. The image generated from the Dockerfile is hosted at [Docker Hub](https://hub.docker.com/r/dghmgenomics/workshop-braunschweig/).

## Quick start 

After installing Docker on your computer (see below for instructions for installation of Docker) type

    $ docker pull dghmgenomics/workshop-braunschweig

to download the image. Then type

    $ docker run -it dghmgenomics/workshop-braunschweig
    
to enter a new container generated by the image.

## Table of contents

*  [Requirements](#requirements)
*  [Questions](#questions)
    * [What is a Dockerfile?](#what-is-a-dockerfile)
    * [What is Docker?](#what-is-docker)
    * [Why is Docker used for this workshop?](#why-is-docker-used-for-this-workshop)
*  [Getting started](#getting-started)
    * [Install Docker](#install-docker)
    * [Start Docker and download the image described by the presented Dockerfile](#start-docker-and-download-the-image-described-by-the-presented-dockerfile)
    * [Interact with the image](#interact-with-the-image)
    * [Optional: add a volume](#optional-add-a-volume)
*  [Information about installed software](#information-about-installed-software)

## Requirements

In order to get the Docker image up and running you need the following equipment and skills:

*  Access to a computer with a 64-bit operating system with at least 8 GB (ideally 16 GB or more) of RAM. Please see the [installation section](#install-docker) to see which operating systems are currently supported. You also need administrator privileges in order to install Docker.
*  At least 10 GB of free disk space after Docker is installed. 
*  Access to the internet, as Docker has to download the present image, the size of which is approximately 5 GB.
*  Basic knowledge of the Linux shell. If you need a refresher, please visit the page [Learning the shell](http://linuxcommand.org/lc3_learning_the_shell.php). The most important commands you need here are those for [navigation](http://linuxcommand.org/lc3_lts0030.php) and [file manipulation](http://linuxcommand.org/lc3_lts0050.php)

## Questions

### What is a Dockerfile?

A Dockerfile is a text document that contains all the commands to assemble a Docker image. A Docker image is an emulation of a computer environment, ready with operating system, installed programs, files etc. 

### What is Docker?

Docker is an open-source project that automates the deployment of applications inside software containers. A container is a runtime instance of a docker image.

### Why is Docker used for this workshop?

Docker is a quick way to get you started with a pre-specified software environment without losing time on tricky manual installation of dependencies, downloading files etc. The goal our workshop is to get you to experiment with programs presented at the workshop as quickly as possible, and not to scare you away by confronting you with the intricacies of the Linux shell.

## Getting started

The following subsections will point you to instructions for installation of Docker on your operating system. After installation, you will learn how to work with an instance of the image.

### Install Docker

Docker can be installed for free on many different operating systems including Windows, Mac, and many Linux distributions.

#### Install Docker for Windows

If you have Windows 10 Professional or Enterprise 64-bit, you should install the [Docker Community Edition for Windows](https://store.docker.com/editions/community/docker-ce-desktop-windows). For other Windows versions, use [Docker Toolbox](https://www.docker.com/products/docker-toolbox). Please refer to Docker's [Windows instructions](https://www.docker.com/docker-windows) for more information.

#### Install Docker for Mac

If you have Apple Mac OS Yosemite 10.10.3 or above, you should install the [Docker Community Edition for Mac](https://store.docker.com/editions/community/docker-ce-desktop-mac). For other versions, use [Docker Toolbox](https://www.docker.com/products/docker-toolbox). Please refer to Docker's [Mac instructions](https://www.docker.com/docker-mac) for more information.

#### Install Docker for Ubuntu

You can use Docker on 64-bit versions of Ubuntu 14.04 and above by installing the [Docker Community Edition for Ubuntu](https://store.docker.com/editions/community/docker-ce-server-ubuntu). Please refer to Docker's [Ubuntu instructions](https://www.docker.com/docker-ubuntu) for more information.

#### Install Docker for other operating systems or environments

Please visit the [Docker homepage](http://www.docker.com) to learn about Docker for AWS, Docker for Azure, Docker for Windows Server, Docker for the CentOS distribution, Docker for Debian, Docker for FedoraÂ®, Docker for Oracle Linux, Docker for RHEL, and Docker for SLES.

### Start Docker and download the image described by the presented Dockerfile

Once you have successfully installed Docker you can immediatly start working with it. On Windows, you will have to doubleclick on the appropriate icon (Docker Community Edition or Docker Toolbox) to fire up Docker. 

The image described can be pulled (i.e. downloaded) by issuing the command

    $ docker pull dghmgenomics/workshop-braunschweig

Please note, that on Linux the command has to be preceded by 'sudo' if you are not logged in with root privileges.

To verify that the image has been downloaded, type the command

    $ docker images

If the image has been downloaded, you will get a message similar to this:

    REPOSITORY                           TAG        IMAGE ID        CREATED         SIZE
    dghmgenomics/workshop-braunschweig   latest     788ab87feb5d    44 minutes ago  4.637 GB

Please note, that contents of fields "IMAGE ID" and "CREATED" will differ for your image.

### Interact with the image

Type the following command to interact with the downloaded image:

    $ docker run -it dghmgenomics/workshop-braunschweig
    
If successful, you will be greeted with a command line prompt from within the started container, similar to the following:

    workshop-user@39a65b2e1905:~$ 
    
To exit from the container simply type "exit", as shown below, and press "Return":

    workshop-user@39a65b2e1905:~$  exit
    exit
    
### Optional: add a volume

By specifying a local directory with the -v option you can add a local directory, which can be accessed from within the Docker container.

E.g. the command

    $ docker run -it -v /temp/export:/export dghmgenomics/workshop-braunschweig

allows you to write data into the directory /export from within the container. Data will persist in the local directory /temp/export and remains available even after the container was stopped or killed.

Please note that Windows directories can only be accessed by prepending the disk letter; e.g. to specify "C:\temp" you would have to write "/c/temp". It's always a good idea to type "pwd" (=present working directory) from Docker to see which directory Docker is accessing by default. On my Windows computer, the command "pwd" yields the following result:

 ![Windows screenshot](https://github.com/dghm-genomics/docker-workshop-braunschweig/blob/master/images/pwd.png?raw=true)

### Work with the software installed on the image

Harald Gruber-Vodicka has kindly provided an [example on how to assemble genomes of _Rickettsia japonica_](https://github.com/HRGV/DGHM2017_assembly/blob/master/DGHM2017_raw_reads_to_assembly_QC.sh) using this image. Please check it out!
    
Please also refer to [Information about referenced software and data](#information-about-referenced-software-and-data) to learn about the installed software available on the image. 

## Information about installed software

The installed software is described in our [help files](https://github.com/dghm-genomics/docker-workshop-braunschweig/blob/master/helpmenu/md/software.md).


